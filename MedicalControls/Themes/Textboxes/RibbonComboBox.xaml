<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:classic="clr-namespace:Microsoft.Windows.Themes;assembly=PresentationFramework.Aero"
    xmlns:controls="clr-namespace:System.Windows.Controls;assembly=System.Windows.Controls.Ribbon"
    xmlns:ribbon="clr-namespace:System.Windows.Controls.Ribbon;assembly=System.Windows.Controls.Ribbon">
    <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="/EPICCLearView;component/Themes/ClearView.xaml" />
        <ResourceDictionary Source="/EPICCLearView;component/Themes/Buttons/ToggleButton.xaml" />
    </ResourceDictionary.MergedDictionaries>
    <SolidColorBrush x:Key="RibbonDisabledForegroundBrushKey" Color="#FF9E9E9E" />
    <SolidColorBrush x:Key="RibbonDropDownBackgroundBrushKey" Color="#F0FFFFFF" />
    <SolidColorBrush x:Key="ResizeGripperBackgroundBrush" Color="#FFE5EFF9" />
    <SolidColorBrush x:Key="ResizeThumbPathBrush" Color="#FF6C747D" />
    <DrawingBrush
        x:Key="ResizeThumbDrawingBrush"
        TileMode="Tile"
        Viewbox="0,0,3,3"
        ViewboxUnits="Absolute"
        Viewport="0,0,3,3"
        ViewportUnits="Absolute">
        <DrawingBrush.Drawing>
            <DrawingGroup>
                <DrawingGroup.Children>
                    <GeometryDrawing Brush="{StaticResource ResizeThumbPathBrush}" Geometry="M 0,0 L 2,0 L 2,2 L 0,2 z " />
                </DrawingGroup.Children>
            </DrawingGroup>
        </DrawingBrush.Drawing>
    </DrawingBrush>
    <Style x:Key="BottomRightCornerGripperStyle" TargetType="{x:Type Thumb}">
        <Setter Property="Width" Value="11" />
        <Setter Property="Height" Value="11" />
        <Setter Property="VerticalAlignment" Value="Bottom" />
        <Setter Property="HorizontalAlignment" Value="Right" />
        <Setter Property="Cursor" Value="SizeNWSE" />
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type Thumb}">
                    <Border Background="Transparent">
                        <Path
                            Margin="0,0,2,2"
                            Data="M 9,0 L 11,0 L 11,11 L 0,11 L 0,9 L 3,9 L 3,6 L 6,6 L 6,3 L 9,3 z"
                            Fill="{StaticResource ResizeThumbDrawingBrush}" />
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
        <Style.Triggers>
            <Trigger Property="FlowDirection" Value="RightToLeft">
                <Setter Property="Cursor" Value="SizeNESW" />
            </Trigger>
        </Style.Triggers>
    </Style>
    <Style x:Key="AlertsRibbonComboBox" TargetType="{x:Type ribbon:RibbonComboBox}">
        <Setter Property="ControlSizeDefinition">
            <Setter.Value>
                <RibbonControlSizeDefinition
                    ImageSize="Collapsed"
                    IsCollapsed="False"
                    IsLabelVisible="False" />
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border
                        x:Name="MainBorder"
                        Background="{Binding RelativeSource={RelativeSource AncestorType={x:Type ribbon:RibbonComboBox}}, Path=Background}"
                        BorderBrush="{Binding RelativeSource={RelativeSource AncestorType={x:Type ribbon:RibbonComboBox}}, Path=BorderBrush}"
                        BorderThickness="1">
                        <Grid Height="Auto">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <TextBox
                                Margin="2,1,2,1"
                                HorizontalContentAlignment="Left"
                                VerticalContentAlignment="Top"
                                Background="Transparent"
                                BorderBrush="Transparent"
                                BorderThickness="0"
                                Focusable="False"
                                Foreground="{Binding Path=Foreground, RelativeSource={RelativeSource AncestorType={x:Type ribbon:RibbonComboBox}}}"
                                IsReadOnly="{Binding Path=IsReadOnly, RelativeSource={RelativeSource AncestorType={x:Type ribbon:RibbonComboBox}}}"
                                Text="{Binding Path=Text, RelativeSource={RelativeSource AncestorType={x:Type ribbon:RibbonComboBox}}}" />
                            <ribbon:RibbonToggleButton
                                Name="PART_ToggleButton"
                                Grid.Column="1"
                                Background="Transparent"
                                BorderBrush="Transparent"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                IsChecked="{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource AncestorType={x:Type ribbon:RibbonComboBox}}}"
                                IsTabStop="false"
                                Label="fuckity"
                                Style="{StaticResource RibbonComboBoxToggleButtonStyle}" />
                            <Popup
                                Name="PART_Popup"
                                AllowsTransparency="True"
                                Focusable="False"
                                HorizontalOffset="1"
                                IsOpen="{Binding Path=IsDropDownOpen, RelativeSource={RelativeSource AncestorType={x:Type ribbon:RibbonComboBox}}}"
                                Placement="Bottom"
                                PlacementTarget="{Binding ElementName=MainBorder}"
                                PopupAnimation="{DynamicResource {x:Static SystemParameters.MenuPopupAnimationKey}}"
                                VerticalOffset="-1">
                                <classic:SystemDropShadowChrome
                                    Name="Shadow"
                                    MinWidth="{Binding ElementName=MainBorder, Path=ActualWidth}"
                                    controls:KeyTipService.IsKeyTipScope="True"
                                    RenderOptions.ClearTypeHint="Enabled"
                                    Color="Transparent">
                                    <Border
                                        Name="MenuBorder"
                                        Background="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Ribbon.Background}"
                                        BorderBrush="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Ribbon.BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="2">
                                        <Border
                                            x:Name="SubMenuInnerBorder"
                                            Background="{StaticResource RibbonDropDownBackgroundBrushKey}"
                                            CornerRadius="2">
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto" />
                                                    <RowDefinition />
                                                    <RowDefinition Height="Auto" />
                                                </Grid.RowDefinitions>
                                                <ItemsPresenter
                                                    x:Name="ItemsPresenter"
                                                    Grid.Row="1"
                                                    Margin="1"
                                                    Grid.IsSharedSizeScope="True"
                                                    KeyboardNavigation.DirectionalNavigation="Cycle"
                                                    KeyboardNavigation.TabNavigation="Cycle"
                                                    SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                                                <Border
                                                    Name="ResizeControl"
                                                    Grid.Row="2"
                                                    Background="{StaticResource ResizeGripperBackgroundBrush}"
                                                    BorderBrush="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Ribbon.BorderBrush}"
                                                    BorderThickness="0,1,0,0"
                                                    Visibility="Collapsed">
                                                    <Thumb x:Name="PART_ResizeThumb" Style="{StaticResource BottomRightCornerGripperStyle}" />
                                                </Border>
                                            </Grid>
                                        </Border>
                                    </Border>
                                </classic:SystemDropShadowChrome>
                            </Popup>
                        </Grid>

                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
